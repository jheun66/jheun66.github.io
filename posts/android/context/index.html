<!DOCTYPE html>

<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    Context - 생각중
    
  </title>

  <meta name="description" content="아마 대부분의 사람들이 안드로이드를 처음 배우면서 토스트메시지를 생성할 때 매개변수로 컨텍스트를 넘기는 것을 알게되었을 것입니다.">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
  
  <link rel="stylesheet" href="/assets/highlight.css">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://jheun66.github.io/posts/android/context/">
  <link rel="alternate" type="application/rss+xml" title="생각중" href="/feed.xml">

  <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<!-- <script type="module">
// const textField = new mdc.textField.MDCTextField(document.querySelector('.mdc-text-field'));
for (const tf of document.querySelectorAll('.mdc-text-field')) {
    new mdc.textField.MDCTextField.attachTo(tf);
}
for (const list of document.querySelectorAll('.mdc-list')) {
    new mdc.list.MDCList.attachTo(list);
}
</script> -->

  <style type="text/css">
    a.comment-link:link {text-decoration: none; color:rgb(170, 170, 170)} 
    a.comment-link:visited {text-decoration: none; color:rgb(170, 170, 170)} 
    a.comment-link:hover {text-decoration: underline;}
    a.tag-link:hover {text-decoration: underline; cursor: pointer;}
  </style>
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Context | 생각중</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Context" />
<meta name="author" content="Eun JongHyeok" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="아마 대부분의 사람들이 안드로이드를 처음 배우면서 토스트메시지를 생성할 때 매개변수로 컨텍스트를 넘기는 것을 알게되었을 것입니다." />
<meta property="og:description" content="아마 대부분의 사람들이 안드로이드를 처음 배우면서 토스트메시지를 생성할 때 매개변수로 컨텍스트를 넘기는 것을 알게되었을 것입니다." />
<link rel="canonical" href="https://jheun66.github.io/posts/android/context/" />
<meta property="og:url" content="https://jheun66.github.io/posts/android/context/" />
<meta property="og:site_name" content="생각중" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-02-12T18:30:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Context" />
<meta name="google-site-verification" content="tbEwkoz_olC5QjXqaH3xRQX19VegCM80JTKhBa3iSx8" />
<script type="application/ld+json">
{"description":"아마 대부분의 사람들이 안드로이드를 처음 배우면서 토스트메시지를 생성할 때 매개변수로 컨텍스트를 넘기는 것을 알게되었을 것입니다.","@type":"BlogPosting","headline":"Context","dateModified":"2021-02-12T18:30:00+00:00","datePublished":"2021-02-12T18:30:00+00:00","url":"https://jheun66.github.io/posts/android/context/","mainEntityOfPage":{"@type":"WebPage","@id":"https://jheun66.github.io/posts/android/context/"},"author":{"@type":"Person","name":"Eun JongHyeok"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">생각중</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Category</a>
          <div class="dropdown-menu">
            
              <a class="nav-link" href="/categories/Blog">Blog</a>
            
              <a class="nav-link" href="/categories/Security">Security</a>
            
              <a class="nav-link" href="/categories/Android">Android</a>
            
              <a class="nav-link" href="/categories/Practice">Practice</a>
            
              <a class="nav-link" href="/categories/Algorithm">Algorithm</a>
            
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->

  
    <header class="masthead" style="background-image: url('/img/bg-android.jpg')">

  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>Context</h1>
          
          <span class="meta">Posted by
            <a href="#">Eun JongHyeok</a>
            on February 12, 2021
          </span>
          <i class="fa fa-tag"></i>Context, Application, Activity
        </div>
      </div>
    </div>
  </div>
</header>

<div class="container">
  <div class="row min-vh-100 flex-column flex-lg-row">
    <div class="col-lg-8 col-md-10 mx-auto">
  
      <ol id="toc" class="amos-list-class">
<li class="toc-entry toc-h1"><a href="#context란">Context란</a>
<ol class="amos-sublist-class">
<li class="toc-entry toc-h2"><a href="#application-context와-activity-context">Application Context와 Activity Context</a></li>
<li class="toc-entry toc-h2"><a href="#리소스-정보">리소스 정보</a></li>
<li class="toc-entry toc-h2"><a href="#acitivity-context를-사용해야-하는-경우">Acitivity Context를 사용해야 하는 경우</a></li>
<li class="toc-entry toc-h2"><a href="#메모리-누수와-생명-주기">메모리 누수와 생명 주기</a></li>
<li class="toc-entry toc-h2"><a href="#reference">Reference</a></li>
</ol>
</li>
</ol><p>아마 대부분의 사람들이 안드로이드를 처음 배우면서 토스트메시지를 생성할 때 매개변수로 컨텍스트를 넘기는 것을 알게되었을 것입니다.</p>

<p>이번에는 이 컨텍스트에 대한 내용들을 정리하고자 합니다.</p>

<h1 id="context란">
<a class="anchor" href="#context%EB%9E%80" aria-hidden="true"><span class="octicon octicon-link"></span></a>Context란</h1>
<blockquote>
  <p>Interface to global information about an application environment. This is an abstract class whose implementation is provided by the Android system. It allows access to application-specific resources and classes, as well as up-calls for application-level operations such as launching activities, broadcasting and receiving intents, etc.</p>
</blockquote>

<p>컨텍스트는 안드로이드 시스템이 제공하는 어플리케이션 환경에 대한 전역 정보 인터페이스이고 어플리케이션별 리소스, 클래스에 대한 접근뿐만 아니라 액티비티 런칭, 브로드 캐스팅 인텐트 리시브와 같은 어플리케이션 레벨의 동작 호출을 허용해줍니다.</p>

<p>솔직히 정의만 들어보면 감이 잘 잡히지 않습니다.</p>

<h2 id="application-context와-activity-context">
<a class="anchor" href="#application-context%EC%99%80-activity-context" aria-hidden="true"><span class="octicon octicon-link"></span></a>Application Context와 Activity Context</h2>
<p>Application과 Acitivty는 둘 다 Context를 부모 클래스로 두고 있습니다. 추가로 Service도 Context를 부모 클래스로 두고 있지만 Application과 Activity 위주로 설명하겠습니다.</p>

<h2 id="리소스-정보">
<a class="anchor" href="#%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%B3%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>리소스 정보</h2>
<p>이름에서도 알 수 있듯이 각각 Application에 대한 내용과 Activity에 대한 내용을 담고 있습니다. 
예시로 간단하게 각 컨텍스트가 가지고 있는 리소스들을 비교해보겠습니다.
Application에서 text의 색은 파란색, Activity에서 text의 색은 빨간색으로 설정합니다.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c">&lt;!-- AndroidMenifest.xml에서 --&gt;</span>
    <span class="nt">&lt;application</span>
        <span class="na">android:allowBackup=</span><span class="s">"true"</span>
        <span class="na">android:icon=</span><span class="s">"@mipmap/ic_launcher"</span>
        <span class="na">android:label=</span><span class="s">"@string/app_name"</span>
        <span class="na">android:roundIcon=</span><span class="s">"@mipmap/ic_launcher_round"</span>
        <span class="na">android:supportsRtl=</span><span class="s">"true"</span>
        <span class="na">android:theme=</span><span class="s">"@style/Theme.ApplicationContext"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;activity</span>
            <span class="na">android:name=</span><span class="s">".MainActivity"</span>
            <span class="na">android:theme=</span><span class="s">"@style/Theme.ActivityContext"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;intent-filter&gt;</span>
                <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">"android.intent.action.MAIN"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">"android.intent.category.LAUNCHER"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/intent-filter&gt;</span>
        <span class="nt">&lt;/activity&gt;</span>
        
        <span class="nt">&lt;activity</span> <span class="na">android:name=</span><span class="s">".TestActivity"</span><span class="nt">&gt;&lt;/activity&gt;</span>
    <span class="nt">&lt;/application&gt;</span>

    <span class="c">&lt;!-- themes.xml에서 --&gt;</span>
    <span class="c">&lt;!-- Base application theme. --&gt;</span>
    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"Theme.KotlinTest"</span> <span class="na">parent=</span><span class="s">"Theme.MaterialComponents.DayNight.DarkActionBar"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- Primary brand color. --&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"colorPrimary"</span><span class="nt">&gt;</span>@color/purple_500<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"colorPrimaryVariant"</span><span class="nt">&gt;</span>@color/purple_700<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"colorOnPrimary"</span><span class="nt">&gt;</span>@color/white<span class="nt">&lt;/item&gt;</span>
        <span class="c">&lt;!-- Secondary brand color. --&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"colorSecondary"</span><span class="nt">&gt;</span>@color/teal_200<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"colorSecondaryVariant"</span><span class="nt">&gt;</span>@color/teal_700<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"colorOnSecondary"</span><span class="nt">&gt;</span>@color/black<span class="nt">&lt;/item&gt;</span>
        <span class="c">&lt;!-- Status bar color. --&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:statusBarColor"</span> <span class="na">tools:targetApi=</span><span class="s">"l"</span><span class="nt">&gt;</span>?attr/colorPrimaryVariant<span class="nt">&lt;/item&gt;</span>
        <span class="c">&lt;!-- Customize your theme here. --&gt;</span>
    <span class="nt">&lt;/style&gt;</span>

    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"Theme.ApplicationContext"</span> <span class="na">parent=</span><span class="s">"Theme.KotlinTest"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:textColor"</span><span class="nt">&gt;</span>#0000FF<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;/style&gt;</span>

    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"Theme.ActivityContext"</span> <span class="na">parent=</span><span class="s">"Theme.KotlinTest"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:textColor"</span><span class="nt">&gt;</span>#FF0000<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;/style&gt;</span>
</code></pre></div></div>

<p>이를 액티비티에서 호출해주면</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kt">var</span> <span class="n">applicationCtxTV</span> <span class="o">=</span> <span class="nc">TextView</span><span class="o">(</span><span class="n">applicationContext</span><span class="o">)</span>
    <span class="n">applicationCtxTV</span><span class="o">.</span><span class="na">textSize</span> <span class="o">=</span> <span class="mi">40</span><span class="no">F</span>
    <span class="n">applicationCtxTV</span><span class="o">.</span><span class="na">text</span> <span class="o">=</span> <span class="s">"Application Context"</span>

    <span class="kt">var</span> <span class="n">activityCtxTV</span> <span class="o">=</span> <span class="nc">TextView</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
    <span class="n">activityCtxTV</span><span class="o">.</span><span class="na">textSize</span> <span class="o">=</span> <span class="mi">40</span><span class="n">f</span>
    <span class="n">activityCtxTV</span><span class="o">.</span><span class="na">text</span> <span class="o">=</span> <span class="s">"Activity Context"</span>

    <span class="kt">var</span> <span class="n">layout</span> <span class="o">:</span> <span class="nc">LinearLayout</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">layout</span><span class="o">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="na">addView</span><span class="o">(</span><span class="n">applicationCtxTV</span><span class="o">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="na">addView</span><span class="o">(</span><span class="n">activityCtxTV</span><span class="o">)</span>
</code></pre></div></div>
<p><img src="/img/posts/android/device-2021-02-13-023931.png" alt="a capture" width="400"></p>

<p>각 리소스의 색으로 그려지는 것을 확인 할 수 있습니다.</p>

<h2 id="acitivity-context를-사용해야-하는-경우">
<a class="anchor" href="#acitivity-context%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acitivity Context를 사용해야 하는 경우</h2>
<p>Dialog를 띄우거나 액티비티를 실행시키는 경우, Layout을 inflate하는 경우 Application Context를 사용할 수 없습니다.</p>

<p>주로 Dialog를 띄울 때 Application Context를 사용할 경우</p>

<p><span style="color:red">Caused by: android.view.WindowManager$BadTokenException: Unable to add window – token null is not valid; is your activity running?</span></p>

<p>다음과 같은 에러가 뜨게 되는데 이는 Application Context에는 WindowManager에 대한 정보가 없기 때문입니다.</p>

<p>추가로 참고하면 좋아보이는 글입니다.<br>
<a href="https://nhancv.medium.com/android-show-dialog-without-activity-context-94661d48400f">https://nhancv.medium.com/android-show-dialog-without-activity-context-94661d48400f</a></p>

<p>액티비티를 실행하거나 Layout을 inflate 시에는 해결책이 존재합니다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kt">var</span> <span class="n">intent</span> <span class="o">=</span> <span class="nc">Intent</span><span class="o">(</span><span class="n">applicationContext</span><span class="o">,</span> <span class="nl">TestActivity:</span><span class="o">:</span><span class="kd">class</span><span class="err">.</span><span class="nc">java</span><span class="o">)</span>
    <span class="n">applicationContext</span><span class="o">.</span><span class="na">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">)</span>
</code></pre></div></div>
<p>어플리케이션 컨텍스트를 이용하여 액티비티를 실행하는 경우에도 다음과 같은 에러 메시지가 출력됩니다.</p>

<p><span style="color:red">Caused by: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?</span></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kt">var</span> <span class="n">intent</span> <span class="o">=</span> <span class="nc">Intent</span><span class="o">(</span><span class="n">applicationContext</span><span class="o">,</span> <span class="nl">TestActivity:</span><span class="o">:</span><span class="kd">class</span><span class="err">.</span><span class="nc">java</span><span class="o">)</span>
    <span class="n">applicationContext</span><span class="o">.</span><span class="na">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">.</span><span class="na">addFlags</span><span class="o">(</span><span class="no">FLAG_ACTIVITY_NEW_TASK</span><span class="o">))</span>
</code></pre></div></div>
<p>액티비티 컨텍스트 밖에서 startActivity를 호출할 때는 해당 플래그가 필요하다는 의미이며 이는 서비스에서 액티비티를 실행시킬 때도 동일하게 필요합니다.</p>

<p>Layout을 inflate하는 경우에도 문제가 발생하므로 추가 작업이 필요합니다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">applicationContext</span><span class="o">.</span><span class="na">getSystemService</span><span class="o">(</span><span class="nc">Service</span><span class="o">.</span><span class="na">LAYOUT_INFLATER_SERVICE</span><span class="o">);</span>
</code></pre></div></div>

<h2 id="메모리-누수와-생명-주기">
<a class="anchor" href="#%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%88%84%EC%88%98%EC%99%80-%EC%83%9D%EB%AA%85-%EC%A3%BC%EA%B8%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>메모리 누수와 생명 주기</h2>
<p>이렇게 보면 항상 Activity Context를 사용하는 것이 좋아보이지만 개발자 사이트에서는 Application Context 사용을 권장하고 있습니다. 이는 생명주기와 관련이 있습니다. Activity는 결국 Context의 자식 클래스이며 자신도 Context이므로 Activity가 종료되면 Context도 사라지게 됩니다. 하지만 Application Context는 앱이 종료될 때까지 사라지지 않으므로 메모리 누수 등을 방지할 수 있습니다.</p>

<p>싱글턴 패턴이나 static 변수를 사용하는 경우가 대표적입니다. 만일 액티비티가 종료되고도 Activity Context가 참조되고 있을 경우 메모리 누수가 일어나게 됩니다. 이 경우에는 반드시 onDestory()에서 해제를 해주어야 합니다.</p>

<p>static 뿐만 아니라 백그라운드 작업, 쓰레드 작업, Event Handling에서도 도중에 종료될시 Activity Context를 참조하고 있을 경우 메모리 누수가 발생할 수 있으므로 액티비티 종료시 해제를 직접 해주어야 합니다.</p>

<h2 id="reference">
<a class="anchor" href="#reference" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reference</h2>
<p><a href="https://developer.android.com/reference/android/content/Context">https://developer.android.com/reference/android/content/Context</a><br>
<a href="https://www.youtube.com/watch?v=-e6lyXIkIl0">https://www.youtube.com/watch?v=-e6lyXIkIl0</a><br>
<a href="https://www.charlezz.com/?p=1080">https://www.charlezz.com/?p=1080</a><br>
<a href="https://yonoo88.tistory.com/1057">https://yonoo88.tistory.com/1057</a><br>
<a href="https://aroundck.tistory.com/263">https://aroundck.tistory.com/263</a><br>
<a href="https://stackoverflow.com/questions/7043240/get-a-layout-inflater-from-the-applicationcontext/7045031">https://stackoverflow.com/questions/7043240/get-a-layout-inflater-from-the-applicationcontext/7045031</a><br>
<a href="https://medium.com/swlh/context-and-memory-leaks-in-android-82a39ed33002">https://medium.com/swlh/context-and-memory-leaks-in-android-82a39ed33002</a><br></p>


      
      
      <div id="disqus_thread"></div>
      <script>
          /**
          *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
          *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
          
          var disqus_config = function () {
          this.page.url = 'https://jheun66.github.io/posts/android/context/';  // Replace PAGE_URL with your page's canonical URL variable
          this.page.identifier = '/posts/android/context/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
          };
          
          (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = 'https://jheun66.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      

    </div>
  </div>
</div>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="mailto:jheun5@naver.com">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://twitter.com/amos55606241">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://www.facebook.com/amos.eun.73">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          <li class="list-inline-item">
            <a href="https://github.com/jheun66">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://instagram.com/jheun66">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; Eun JongHyeok 2022</p>
      </div>
    </div>
  </div>
</footer>


  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/scripts.js"></script>

<script src="/assets/scripts.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T1H0RYSGS7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T1H0RYSGS7');
</script>



  <style>
.videoWrapper {
    position: relative;
    padding-bottom: 56.333%;
    height: 0;
    background: black;
}
.videoWrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}    
</style>

<script>
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
        url: 'https://vimeo.com/api/oembed.json?url='+url,
        async: true,
        success: function(response) {
        if(response.video_id) {
            id = response.video_id;
            if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
            if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
            var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
            if(autoplay==1) theInnerHTML += '&autoplay=1';
            if(loop==1) theInnerHTML += '&loop=1';
            theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; 
            el.innerHTML = theInnerHTML;
        }
        }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||
            p[i].innerHTML.indexOf("https://") == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                if(autoplay==1) theInnerHTML += '&autoplay=1';
                if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                if(p[i].innerHTML.indexOf('start=') !== -1) theInnerHTML += '&start='+p[i].innerHTML.substring(p[i].innerHTML.indexOf('start=')+6);
                theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&','').replace('&','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '<audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>
  
  <script id="dsq-count-scr" src="//jheun66.disqus.com/count.js" async></script>
  
</body>

</html>
