<!DOCTYPE html>

<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    ART 이해하기 - In progress
    
  </title>

  <meta name="description" content="안드로이드 서적을 읽던 중 ART에 대한 이해가 필요하다 느껴 정리합니다. 의식의 흐름대로 풀이하였습니다.">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
  
  <link rel="stylesheet" href="/assets/highlight.css">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://jheun66.github.io/posts/android/art/">
  <link rel="alternate" type="application/rss+xml" title="In progress" href="/feed.xml">

  <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<!-- <script type="module">
// const textField = new mdc.textField.MDCTextField(document.querySelector('.mdc-text-field'));
for (const tf of document.querySelectorAll('.mdc-text-field')) {
    new mdc.textField.MDCTextField.attachTo(tf);
}
for (const list of document.querySelectorAll('.mdc-list')) {
    new mdc.list.MDCList.attachTo(list);
}
</script> -->

  <style type="text/css">
    a.comment-link:link {text-decoration: none; color:rgb(170, 170, 170)} 
    a.comment-link:visited {text-decoration: none; color:rgb(170, 170, 170)} 
    a.comment-link:hover {text-decoration: underline;}
  </style>
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ART 이해하기 | In progress</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="ART 이해하기" />
<meta name="author" content="Eun JongHyeok" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="안드로이드 서적을 읽던 중 ART에 대한 이해가 필요하다 느껴 정리합니다. 의식의 흐름대로 풀이하였습니다." />
<meta property="og:description" content="안드로이드 서적을 읽던 중 ART에 대한 이해가 필요하다 느껴 정리합니다. 의식의 흐름대로 풀이하였습니다." />
<link rel="canonical" href="https://jheun66.github.io/posts/android/art/" />
<meta property="og:url" content="https://jheun66.github.io/posts/android/art/" />
<meta property="og:site_name" content="In progress" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-14T08:08:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ART 이해하기" />
<meta name="google-site-verification" content="tbEwkoz_olC5QjXqaH3xRQX19VegCM80JTKhBa3iSx8" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Eun JongHyeok"},"dateModified":"2020-12-14T08:08:00+00:00","datePublished":"2020-12-14T08:08:00+00:00","description":"안드로이드 서적을 읽던 중 ART에 대한 이해가 필요하다 느껴 정리합니다. 의식의 흐름대로 풀이하였습니다.","headline":"ART 이해하기","mainEntityOfPage":{"@type":"WebPage","@id":"https://jheun66.github.io/posts/android/art/"},"url":"https://jheun66.github.io/posts/android/art/"}</script>
<!-- End Jekyll SEO tag -->


  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8954355499146518"
     crossorigin="anonymous"></script>
  <script async src="https://fundingchoicesmessages.google.com/i/pub-8954355499146518?ers=1" nonce="vIYNAgythFLTbocmvIWE6A"></script><script nonce="vIYNAgythFLTbocmvIWE6A">(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>
</head>


<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">In progress</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/category">Category</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->



<header class="masthead" style="background-color: #b5e48c;">

  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>ART 이해하기</h1>
          
          <span class="meta">Posted by Eun JongHyeok on December 14, 2020
          </span>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="container">
  <div class="row min-vh-100 flex-column flex-lg-row">
    <div class="col-lg-8 col-md-10 mx-auto">
  
      <ol id="toc" class="table-of-contents">
<li class="toc-entry toc-h1"><a href="#art">ART</a>
<ol class="table-of-contents-sublist-class">
<li class="toc-entry toc-h2"><a href="#런타임">런타임</a></li>
<li class="toc-entry toc-h2"><a href="#간단-설명">간단 설명</a></li>
<li class="toc-entry toc-h2"><a href="#dalvik">Dalvik</a></li>
<li class="toc-entry toc-h2"><a href="#추가사항">추가사항</a></li>
<li class="toc-entry toc-h2"><a href="#reference">Reference</a></li>
</ol>
</li>
</ol><p>안드로이드 서적을 읽던 중 ART에 대한 이해가 필요하다 느껴 정리합니다. 의식의 흐름대로 풀이하였습니다.</p>

<h1 id="art">
<a class="anchor" href="#art" aria-hidden="true"><span class="octicon octicon-link"></span></a>ART</h1>
<p>ART는 Android Runtime의 약자입니다.</p>

<h2 id="런타임">
<a class="anchor" href="#%EB%9F%B0%ED%83%80%EC%9E%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>런타임</h2>
<p>런타임을 그냥 변역하면 실행 시간이 됩니다. 하지만 요기서의 의미는 런타임 시스템 또는 런타임 환경이라 생각합니다. 간단하게 말하면 실행 중인 프로그램을 서포트하는 모든 자원들을 말합니다.</p>

<h2 id="간단-설명">
<a class="anchor" href="#%EA%B0%84%EB%8B%A8-%EC%84%A4%EB%AA%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>간단 설명</h2>
<p>책을 읽던 중 처음 나온 설명은 안드로이드를 모바일 리눅스가 아닌 안드로이드 답게 만들어 준다는 것이였습니다. 리눅스 커널 위에서 휴대폰의 메모리, 프로세스 관리 등을 수행해주는데 흔히 아는 운영체제의 역활을 수행해준다 생각하였습니다. 이전에는 Dalvik이라는 가상 머신이 있었는데 대체되었고 ART는 런타임으로써 <code class="language-plaintext highlighter-rouge">.dex</code> 파일을 실행해 줍니다.</p>

<h2 id="dalvik">
<a class="anchor" href="#dalvik" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dalvik</h2>
<p>달빅이 무엇이지 알기전에 안드로이드는 JVM을 사용하지 않는다는 것을 알아야합니다. 그렇다면 java는 컴파일을 거친후 JVM을 대신하여 다른 것을 통해 동작시킬텐데 안드로이드 초기에 사용했던 것이 바로 달빅입니다. 자바 파일을 자바 클래스 파일로 컴파일 한 뒤 SDK를 통해 <code class="language-plaintext highlighter-rouge">.dex</code> 포맷으로 변경한 후 실행시킵니다.</p>

<p>JVM을 사용하지 않은 이유에 대해서는 라이센스 문제라고 합니다.</p>

<h3 id="aot-컴파일-도입">AOT 컴파일 도입</h3>
<p>달빅은 JIT 컴파일을 사용되었고 ART에서는 최적화를 위해 둘 다 사용됩니다.<br>
<a href="https://source.android.com/devices/tech/dalvik/jit-compiler?hl=ko#flow"><strong>링크</strong></a><br>
다른 자세한 비교는 개발자 사이트를 참고하면 좋을 것 같습니다.<br>
<a href="https://source.android.com/devices/tech/dalvik"><strong>안드로이드 개발자 사이트</strong></a><br></p>

<blockquote>
  <p>JIT Complie</p>
</blockquote>

<p>실행 시간에 바이트 코드를 기계어로 번역하여 RAM에 올립니다.</p>

<blockquote>
  <p>AOT Complie</p>
</blockquote>

<p>앱을 설치할 때 <strong>dex2oat</strong> 도구를 사용하여 컴파일합니다. Dex 파일을 입력받아 컴파일된 앱을 생성합니다.</p>

<p>결과적으로 설치시에는 더 오래 걸리고 용량도 커지지만 실행시간에는 훨씬 나은 성능을 얻을 수 있습니다. 램도 더 적게 차지합니다.</p>

<h2 id="추가사항">
<a class="anchor" href="#%EC%B6%94%EA%B0%80%EC%82%AC%ED%95%AD" aria-hidden="true"><span class="octicon octicon-link"></span></a>추가사항</h2>
<p>잘 정리된 블로그도 참고합니다. 플로 차트를 보니 쉽게 이해되네요.</p>

<h2 id="reference">
<a class="anchor" href="#reference" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reference</h2>
<p><a href="https://source.android.com/devices/tech/dalvik"><strong>안드로이드 개발자 사이트</strong></a><br>
<a href="https://brunch.co.kr/@mystoryg/81"><strong>참고 블로그</strong></a></p>


      <hr>
      
      
        <div class="tag-class"><i class="fa fa-tag"></i>Android</div>
      
      
        <div class="tag-class"><i class="fa fa-tag"></i>ART</div>
      
      
        <div class="tag-class"><i class="fa fa-tag"></i>Dalvik</div>
      

      <hr>
      
      
      <div id="disqus_thread"></div>
      <script>
          /**
          *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
          *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
          
          var disqus_config = function () {
          this.page.url = 'https://jheun66.github.io/posts/android/art/';  // Replace PAGE_URL with your page's canonical URL variable
          this.page.identifier = '/posts/android/art/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
          };
          
          (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = 'https://jheun66.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      

    </div>
  </div>
</div>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="mailto:jheun5@naver.com">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://twitter.com/amos55606241">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://www.facebook.com/amos.eun.73">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          <li class="list-inline-item">
            <a href="https://github.com/jheun66">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          <li class="list-inline-item">
            <a href="https://instagram.com/jheun66">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; Eun JongHyeok 2024</p>
      </div>
    </div>
  </div>
</footer>


  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/scripts.js"></script>

<script src="/assets/scripts.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T1H0RYSGS7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T1H0RYSGS7');
</script>



  <style>
.videoWrapper {
    position: relative;
    padding-bottom: 56.333%;
    height: 0;
    background: black;
}
.videoWrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}    
</style>

<script>
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
        url: 'https://vimeo.com/api/oembed.json?url='+url,
        async: true,
        success: function(response) {
        if(response.video_id) {
            id = response.video_id;
            if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
            if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
            var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
            if(autoplay==1) theInnerHTML += '&autoplay=1';
            if(loop==1) theInnerHTML += '&loop=1';
            theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; 
            el.innerHTML = theInnerHTML;
        }
        }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||
            p[i].innerHTML.indexOf("https://") == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                if(autoplay==1) theInnerHTML += '&autoplay=1';
                if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                if(p[i].innerHTML.indexOf('start=') !== -1) theInnerHTML += '&start='+p[i].innerHTML.substring(p[i].innerHTML.indexOf('start=')+6);
                theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&','').replace('&','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '<audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>
  
  <script id="dsq-count-scr" src="//jheun66.disqus.com/count.js" async></script>
  
</body>

</html>
